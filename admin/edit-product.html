<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" type="image/png" href="../img/ryicon.jpg">
  <title>BookStore - Cập nhật sản phẩm</title>
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link href="assets/css/pure-style.css" rel="stylesheet" />
  <style>
    .image-preview {
      max-width: 200px;
      max-height: 200px;
      border: 2px dashed #dee2e6;
      border-radius: 0.375rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #f8f9fa;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .image-preview:hover {
      border-color: #e91e63;
      background-color: #fff5f8;
    }

    .image-preview img {
      max-width: 100%;
      max-height: 100%;
      object-fit: cover;
    }

    .image-upload-text {
      text-align: center;
      color: #6c757d;
      font-size: 0.875rem;
    }
  </style>
</head>

<body style="font-family: 'Roboto', sans-serif; background-color: #f0f2f5; color: #344767; line-height: 1.6; overflow-x: hidden;">

  <!-- Sidebar -->
  <aside style="position: fixed; top: 0; left: 0; z-index: 1000; width: 250px; height: 100vh; background: linear-gradient(195deg, #42424a, #191919); color: white; box-shadow: 0 0 2rem rgba(0, 0, 0, 0.15);">
    <div style="padding: 1.5em 1rem;">
      <a href="#" style="display: flex; align-items: center; font-weight: 700; color: white; text-decoration: none;">
        <span>TRUNG TÂM ĐIỀU KHIỂN</span>
      </a>
    </div>
    <hr style="border-top: 1px solid rgba(255,255,255,0.1); margin: 1rem 0;">
    <ul style="list-style: none; padding: 0; margin: 0;">
      <li><a href="index.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">dashboard</i>Tổng quan</a></li>
      <li><a href="user.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">person</i>Quản lý khách hàng</a></li>
      <li><a href="order.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">weekend</i>Quản lý đơn hàng</a></li>
      <li><a href="products.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;background:linear-gradient(195deg,#ec407a,#d81b60);box-shadow:0 4px 20px rgba(0,0,0,0.14),0 7px 10px -5px rgba(233,30,99,0.4);"><i class="material-icons" style="margin-right:10px;">table_view</i>Quản lý sản phẩm</a></li>
      <li><a href="category.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">category</i>Quản lý danh mục</a></li>
      <li><a href="phieunhap.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">inventory_2</i>Quản lý nhập hàng</a></li>
      <li><a href="giaban.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">attach_money</i>Quản lý giá bán</a></li>
      <li><a href="tonkho.html" style="display:flex;align-items:center;padding:0.75rem 1rem;color:white;text-decoration:none;"><i class="material-icons" style="margin-right:10px;">inventory</i>Quản lý tồn kho</a></li>
    </ul>
    <div style="position:absolute;bottom:0;width:100%;padding:1rem;">
      <a href="login.html" style="display:inline-block;background:linear-gradient(195deg,#ec407a,#d81b60);color:white;padding:0.625rem 1.5rem;border-radius:0.25rem;text-decoration:none;width:100%;text-align:center;">Đăng xuất</a>
    </div>
  </aside>

  <!-- Main -->
  <main style="margin-left: 250px; min-height: 100vh; padding: 1.5rem;">
    <nav style="margin-bottom: 1.5rem; padding: 0.75rem 1.5rem; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); background-color: white;">
      <div>
        <b style="color:#e91e63;">Cập nhật sản phẩm</b>
      </div>
    </nav>

    <div style="padding-top: 1.5rem; padding-bottom: 1.5rem;">
      <div class="card">
        <div class="card-header">
          <h4 style="margin: 0; font-weight: 600; margin-bottom: 0.5rem; color: #344767;">Thông tin sản phẩm</h4>
          <p style="margin: 0; color: #6c757d; font-size: 0.875rem;">Cập nhật các thông tin của sản phẩm</p>
        </div>
        <div class="card-body">
          <form id="updateProductForm">
            <div style="display: flex; flex-wrap: wrap; margin-right: -15px; margin-left: -15px;">
              <!-- Left column -->
              <div style="flex: 0 0 66.666667%; max-width: 66.666667%; padding-right: 15px; padding-left: 15px;">
                <div class="form-group">
                  <label for="productName" class="form-label">Tên sản phẩm <span style="color: #dc3545;">*</span></label>
                  <input type="text" class="form-control" id="productName" name="productName" value="Sách Lập Trình JavaScript" required>
                </div>

                <div class="form-group">
                  <label for="productDescription" class="form-label">Mô tả sản phẩm</label>
                  <textarea class="form-control" id="productDescription" name="productDescription" rows="4">Cuốn sách này cung cấp kiến thức toàn diện về JavaScript, từ cơ bản đến nâng cao. Phù hợp cho cả người mới bắt đầu và lập trình viên có kinh nghiệm muốn nâng cao kỹ năng.</textarea>
                </div>

                <div class="form-group">
                  <label for="productPrice" class="form-label">Giá sản phẩm <span style="color: #dc3545;">*</span></label>
                  <input type="number" class="form-control" id="productPrice" name="productPrice" min="0" step="1" value="120000">
                  <div class="form-text">Đơn vị: VNĐ</div>
                </div>

                <div class="form-group">
                  <label for="productCategory" class="form-label">Danh mục <span style="color: #dc3545;">*</span></label>
                  <select class="form-control" id="productCategory" name="productCategory" required>
                    <option value="">Chọn danh mục</option>
                    <option value="thieu-nhi">Thiếu Nhi</option>
                    <option value="tam-ly-tinh-cam">Tâm Lý / Tình Cảm</option>
                    <option value="ton-giao">Tôn Giáo</option>
                    <option value="lich-su">Lịch Sử</option>
                    <option value="van-hoc" selected>Văn Học</option>
                  </select>
                </div>
              </div>

              <!-- Right column -->
              <div style="flex: 0 0 33.333333%; max-width: 33.333333%; padding-right: 15px; padding-left: 15px;">
                <div class="form-group">
                  <label class="form-label">Hình ảnh sản phẩm</label>
                  <div class="image-preview" onclick="document.getElementById('productImage').click()">
                    <div class="image-upload-text">
                      <i class="material-icons" style="font-size: 48px; color: #dee2e6; margin-bottom: 0.5rem;">add_photo_alternate</i>
                      <div>Chọn ảnh cho sản phẩm</div>
                    </div>
                    <img id="imagePreview" src="" alt="Preview" style="display: none;">
                  </div>
                  <input type="file" id="productImage" name="productImage" accept="image/*" style="display: none;">
                </div>
              </div>
            </div>

            <!-- Buttons -->
            <div style="display: flex; justify-content: center; gap: 1rem; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #dee2e6;">
              <button type="button" class="btn btn-secondary" onclick="window.location.href='products.html'">Quay về</button>
              <button type="button" class="btn btn-gradient" style="padding: 0.75rem 2rem; font-weight: 600;" onclick="alert('Cập nhật sản phẩm thành công!'); window.location.href='products.html';">
                <i class="material-icons" style="font-size: 1rem; margin-right: 0.5rem; vertical-align: middle;">save</i>
                Lưu thay đổi
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Hiển thị ảnh preview khi chọn file
    document.getElementById('productImage').addEventListener('change', function (e) {
      const file = e.target.files[0];
      const preview = document.getElementById('imagePreview');
      const uploadText = document.querySelector('.image-upload-text');
      const container = document.querySelector('.image-preview');

      if (file) {
        const reader = new FileReader();
        reader.onload = function (ev) {
          preview.src = ev.target.result;
          preview.style.display = 'block';
          uploadText.style.display = 'none';
          container.style.borderColor = '#28a745';
          container.style.backgroundColor = '#f8fff9';
        };
        reader.readAsDataURL(file);
      } else {
        preview.style.display = 'none';
        uploadText.style.display = 'block';
        container.style.borderColor = '#dee2e6';
        container.style.backgroundColor = '#f8f9fa';
      }
    });
  </script>
</body>
</html>
